<!DOCTYPE html>

<html>
	<head>
		<script>
			//get SDKs
			import { initializeApp } from 'firebase/app';
			import { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';           
			import { getAnalytics } from 'firebase/analytics';
			/* Currently not in use. 
			import { 
				getFirestore,
				collection,
				doc,
				addDoc,
				query,
				orderBy,
				limit,
				onSnapshot,
				setDoc,
				updateDoc,
				serverTimestamp
			} from 'firebase/firestore';  
			*/   

			//Firebase configuration
			const firebaseConfig = {      
				apiKey: "AIzaSyCeggyHjxE11j_JdOWPokNzeyZu9KRdJII",      
				authDomain: "digital-dungeon-7ed2d.firebaseapp.com",        
				databaseURL: "https://digital-dungeon-7ed2d-default-rtdb.firebaseio.com",        
				projectId: "digital-dungeon-7ed2d",        
				storageBucket: "digital-dungeon-7ed2d.appspot.com",        
				messagingSenderId: "131380478178",        
				appId: "1:131380478178:web:e0d9605980bb71c5dfdebb",
				measurementId: "G-0HRMKNQZDD"      
			};

			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
			
			//initialize modules/functions
			const auth = getAuth(app);     
			const fs = getFirestore(app);
			const fsRef = collection(fs, "users");
		</script>	
		<script src="/__/firebase/9.13.0/firebase-app-compat.js"></script>
		<script src="/__/firebase/9.13.0/firebase-auth-compat.js"></script>
		<script src="/__/firebase/init.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <title>Digital Dungeon</title>
    <link rel="icon" type="image/png" href="images/icon.png">
    
    <style type="text/css">
	
		@font-face { font-family: Consolas; src: url('Consolas.ttf'); }
    
		body {
			background-image: url('images/MainMenu.png');
			background-repeat: no-repeat;
			background-attachment: fixed;
			background-size: 100% 100%;
			}
		
		#TopText{				
			font-family:Consolas;
			text-align: center;
			font-size: 4.0vw;
			}
			
		#NormalText{	
			font-family:Consolas;
			text-align: center;
			font-size: 3.0vw;
			color: grey;
			}
			
		.ButtonBlue{				
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #3853A4;
			background-color: #D1D7EA;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
			
		.ButtonBlue:hover{			
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #D1D7EA;
			background-color: #3853A4;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
			
		.ButtonPurple{				
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #6A52A2;
			background-color: #DDD7E9;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
			
		.ButtonPurple:hover{		
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #DDD7E9;
			background-color: #6A52A2;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}

		.ButtonGreen{
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #2DB34B;
			background-color: #CEEDD5;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
			
		.ButtonGreen:hover{
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #CEEDD5;
			background-color: #2DB34B;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
		
		.ButtonRed{						
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #EE2828;
			background-color: #FBCDCD;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
			
		.ButtonRed:hover{				
			font-family:Consolas;
			text-align: center;
			font-size: 2.5vw;
			border: 0px solid black;
			border-radius: 1.3vw;
			color: #FBCDCD;
			background-color: #EE2828;
			height: 4.8vw;
			width: 19vw;
			cursor: pointer;
		}
		
		</style>
		
	</head>

		
	<body>
	<br><br>
	
	<!--<div id="TopText">DIGITAL_DUNGEON <-- This line centers the title but also just happens to center all of the buttons which is why it doesn't close until way later down. -->
	
	<br><br><br>

    <!--<div id="NormalText"> Select an option <br><br><br></div>-->

	<div style="position: absolute; left: 40%; top: 37%;">
	<button class="ButtonBlue" onclick="window.location.href='game.html';"> Play </Play> </button> <br> 
	</div>
	
	<div id="NormalText"> <br> </div>
	
	<div style="position: absolute; left: 40%; top: 50%;">
	<button class="ButtonGreen" onclick="window.location.href='highscores.html';"> High Scores </button> <br>
	</div>

    <div id="NormalText"> <br> </div>
	
	<div style="position: absolute; left: 40%; top: 63%;">
	<button class="ButtonPurple" onclick="window.location.href='profile_student.html';"> Profile </button> <br>
	</div>

    <div id="NormalText"> <br> </div>
	
	<div style="position: absolute; left: 40%; top: 76%;">
	<button id="logoutButton" class="ButtonRed" onclick="logoutUser()"> Logout </button> <br>
	</div>
	<script>
		function logoutUser(){
			firebase.auth().onAuthStateChanged(function(user){
				if(user){
					firebase.auth().signOut()
					.then(function(){
						alert("Logout successful!");
						window.location.href='index.html';
					})
					.catch(function(error){
						var errorCode = error.code;
						var errorMessage = error.message;
						alert(errorMessage);
					})
				}
			})
		}
	</script>

    <div id="NormalText"> <br> </div>
	
	</div> <!-- This is where the part that centers DIGITAL_DUNGEON and everything else on the page is closed. -->
	
	</body> 
	
	
</html>
